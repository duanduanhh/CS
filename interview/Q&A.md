一共就五家公司，海康岗位不是特别匹配，捷配网过于简单，所以就只记录了三家公司的面试。

# 大华

**1. 关键字推荐项目客户如何登录进来的？是HTTP还是TCP？**

回答：通过网页登录，使用的是TCP

面试官回馈：网页登录是HTTP 

**2. 有没有测试过程序的最大并发量？如何测试的？**

**3. GDB如何调试踩内存？**

找到这块内存被谁踩了，因为分配的内存空间在头部会记录一个数据大小，尾部也有一个记录（但是忘了记录啥的了），顺着当前的内存一直往前找。（大概就是这么个意思，具体的做法我也还没查清） 

**4. 自己负责项目的工程规模？**

自己单个项目的模块大概1000行

面试官回馈：表示对你源码阅读能力的怀疑-。-，他说他们的源码都是十几万行的，需要一定的源码阅读能力 

**5. 你在项目中的具体分工，项目一共几个人开发的**

**6. 一些常见问题**

为什么使用Reactor+ThreadPool的实现

容器自己挑两个说一下底层实现

僵尸进程

临界资源的访问如何控制

socket建立流程

快速排序实现原理

工厂模式原理及应用场景

手撕单例模式

饱汉饿汉的区别

死锁的产生及解决方法 

**7. 非技术问题**

为啥不要年终奖跳槽

上一家公司的工作强度

和同事相处有没有遇到什么难题

平时的爱好

接收加班不，能接受什么程度的加班

# **飞步科技**

**1. 共享内存的缺点**

**2. 说一下lambda表达式**

**3. 说一下移动语义std::move**

**4. 虚函数的实现机制**

**5. 多基继承时派生类的内存布局**

**6.讲一下你对智能指针的理解（unique_ptr、share_ptr是重点）**

**7. 敲一道算法题：**

求子串在母串中第一次出现的位置

**8. B树、B+树的时间复杂度**

**9. 如何排查内存泄漏**

**10. 讲一下你对内存管理的理解** 

**11.智力题：一个人工作七天的佣金是一根金条,现用刀把这根金条均分成七段,每天他工作完给他一段,但这把刀只能切两次,问如何切？**

切成 1 段 + 2 段 + 4 段。十进制 7 转换成二进制为 111，而两刀三段，把每一位分离即可得到 100、10、1，这样可以组成 001 至 111 间的每一个数，基本这类拼凑数字的问题都是用进制解决

# 紫龙游戏

**1. memcpy与memmove区别**

作用是一样的，唯一的区别是，当内存发生局部重叠的时候，memmove保证拷贝的结果是正确的，memcpy不保证拷贝的结果的正确。

又问我memmove具体的解决方案

**2. 对寻路算法有什么了解，讲一下迪杰斯特拉算法和A星算法（后面这个我完全不知道，面试的时候第一次听说，所以我只讲了迪杰斯特拉算法的流程）**

**3. send与recv异步还是同步**

同步的，因为会发生阻塞等待

**4. 什么情况下会导致send/recv阻塞**

这个当时没答出来，我让面试官给我说个具体场景，他问我是不是没遇到过，我说记不清了，他就说那下一个问题

**5. recv收到0怎么办**

这个也没答出来，他说这个是经常会遇到的，问我后续要进行什么样的判断，再次循环接收或者是什么，这个具体答案我也不确定

**6. 讲一下static关键字声明全局变量有什么作用**
**7. float、double多少个字节，int在32位或64位系统下大小会不会有变化**

float4、double8、int4、int在32或64位系统下不会变化（我说记得看过一篇博客不同系统下会发生变化，被面试官教育多看书，少看博客）

**8. 讲一下内存对齐的作用**
**9.  知道不知道如何声明内存对齐**

\#pragma pack

**10. 声明内存对齐什么时候会被用到**

机器适配性，因为不同的机器下可能会有不同的内存对齐格式，我们希望在不同的电脑上用同样的内存对齐时，就可以声明内存对齐

**11. 读没读过tcp/ip详解**

没读过，但是读过计算机网络：自顶向下，但是却没再问我有关tcp/ip

**12. 那你最近在读什么书**

STL源码剖析、计算机网络：自顶向下、CSAPP

**13. 一个系列的问题**

```c
static int i = 0;
j = i++;
return j;
```

- 第一个返回的j是0还是1，为什么

  0，后置++先赋值后++

- 多线程执行会出现什么结果，是不是从0一直顺序输出一个差值为1的递增数组

  会出现乱序，因为我们的操作并不是原子操作，所以不会保证差值为1

- 为什么不会保证差值为1，

  因为多线程访问的时候，有可能上一个线程操作后的新值还没放回去，另一个线程就已经开始读取了，这时候读取的是旧值

- 知道变量在最底层存在哪里吗

  我说寄存器（这个我觉得大概率答错了）

- 你学过计组没

  本科学过但是太久了

- 学过汇编没，汇编能对内存操作么

  学过，不能（他说其实是可以的，好像是load操作就是直接对内存操作，我记不清是不是load了）

- 又被问第二个数可不可能返回100，会不会返回3

  我：不会返回100或3，因为我们第二次进行操作的时候，旧值最多执行一次，那其实旧值也最多是1，锁所以不会返回

- 又被问第十个数会不会返回3

  我：这个是有可能的，这个上一个问题场景不同，因为我们第十个访问的，前面已经有了多次访问，但是前面的多次访问是有可能出现差错的，当前面多次访问的都是旧值时其实会有概率出现的

- 又被问加上violiate关键字会出现什么结果

  这个我不会，当时一顿瞎扯，我只了解关键字的作用，但是没使用过这个关键字。

- 又被问如何保证原子操作，从最轻量级说

  我说上锁，他说还有别的没，我说没了，他说你知道了XXXX（忘了叫啥了，太长了）不，我说不知道

- 又被问普通锁和嵌套锁与检测锁区别

- 又被问锁多次加锁会出现什么情况

- 又被问普通锁可不可重入

- 又被问可重入是什么